<UserControl x:Class="LabelPlus_Next.Views.Pages.SettingsPage"
             xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:vm="clr-namespace:LabelPlus_Next.ViewModels"
             x:DataType="vm:SettingsViewModel" MinHeight="350" MinWidth="600">
    <ScrollViewer>
        <StackPanel Spacing="12" Margin="16">
            <TextBlock Text="设置" FontSize="20" FontWeight="SemiBold" />

            <!-- 自定义服务器设置入口（二级窗口） -->
            <Border BorderThickness="1" CornerRadius="4" BorderBrush="Gray" Margin="0,8,0,0">
                <StackPanel Spacing="8" Margin="8">
                    <TextBlock Text="更新源" FontWeight="SemiBold" />
                    <TextBlock Text="默认使用内置更新配置。若需自定义服务器，请点击下方按钮。" />
                    <StackPanel Orientation="Horizontal" Spacing="8">
                        <Button Content="设置自定义服务器" HorizontalAlignment="Left" Click="OnOpenCustomServerClick" />
                        <Button Content="检查更新" Command="{Binding CheckUpdateCommand}" />
                    </StackPanel>
                    <TextBlock Text="{Binding Status}" />
                </StackPanel>
            </Border>

            <!-- 更新信息 -->
            <Border BorderThickness="1" CornerRadius="4" BorderBrush="Gray">
                <StackPanel Spacing="6" Margin="8">
                    <TextBlock Text="更新信息" FontWeight="SemiBold" />
                    <StackPanel Orientation="Horizontal" Spacing="12">
                        <StackPanel Orientation="Horizontal" Spacing="6">
                            <TextBlock Text="当前 Client:" />
                            <TextBlock Text="{Binding CurrentClientVersion}" />
                        </StackPanel>
                        <StackPanel Orientation="Horizontal" Spacing="6">
                            <TextBlock Text="当前 Update:" />
                            <TextBlock Text="{Binding CurrentUpdaterVersion}" />
                        </StackPanel>
                    </StackPanel>
                    <StackPanel Orientation="Horizontal" Spacing="12">
                        <StackPanel Orientation="Horizontal" Spacing="6">
                            <TextBlock Text="最新 Client:" />
                            <TextBlock Text="{Binding LatestClientVersion}" />
                        </StackPanel>
                        <StackPanel Orientation="Horizontal" Spacing="6">
                            <TextBlock Text="最新 Update:" />
                            <TextBlock Text="{Binding LatestUpdaterVersion}" />
                        </StackPanel>
                    </StackPanel>
                    <TextBlock Text="{Binding UpdateTask}" />
                    <ProgressBar Minimum="0" Maximum="100" IsIndeterminate="{Binding IsProgressIndeterminate}"
                                 Value="{Binding UpdateProgress}" Height="10" />
                </StackPanel>
            </Border>
        </StackPanel>
    </ScrollViewer>
</UserControl>